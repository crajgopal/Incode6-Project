(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[151],{"./businessComponents/groupNavigation/components/SearchPopup.vue":function(e,t,n){"use strict";n.r(t);var s=n("./businessComponents/groupNavigation/components/SearchPopup.vue?vue&type=template&id=f32759d4&");var o=n("./businessComponents/groupNavigation/components/SearchPopup.vue?vue&type=script&lang=js&");for(var r in o)if(["default"].indexOf(r)<0)(function(e){n.d(t,e,(function(){return o[e]}))})(r);var u=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var i=Object(u["a"])(o["default"],s["a"],s["b"],false,null,null,null);t["default"]=i.exports},"./businessComponents/groupNavigation/components/SearchPopup.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/source-map-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./businessComponents/groupNavigation/components/SearchPopup.vue?vue&type=script&lang=js&");var o=n.n(s);for(var r in s)if(["default"].indexOf(r)<0)(function(e){n.d(t,e,(function(){return s[e]}))})(r);t["default"]=o.a},"./businessComponents/groupNavigation/components/SearchPopup.vue?vue&type=template&id=f32759d4&":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return o}));var s=function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("Modal",{attrs:{noFooter:"",show:e.opened,width:720},on:{"esc-click":function(t){return e.close()}},scopedSlots:e._u([{key:"header",fn:function(){return[n("SearchPopupHeader",{attrs:{searchText:e.searchText},on:{"update:searchText":function(t){e.searchText=t},"update:search-text":function(t){e.searchText=t}}})]},proxy:true},{key:"default",fn:function(){return[n("SearchPopupBody",{attrs:{results:e.results,searchText:e.searchText}})]},proxy:true}])})};var o=[]},"./businessComponents/groupNavigation/components/SearchPopupBody.vue":function(e,t,n){"use strict";n.r(t);var s=n("./businessComponents/groupNavigation/components/SearchPopupBody.vue?vue&type=template&id=ab213afa&scoped=true&");var o=n("./businessComponents/groupNavigation/components/SearchPopupBody.vue?vue&type=script&lang=js&");for(var r in o)if(["default"].indexOf(r)<0)(function(e){n.d(t,e,(function(){return o[e]}))})(r);var u=n("./businessComponents/groupNavigation/components/SearchPopupBody.vue?vue&type=style&index=0&id=ab213afa&scoped=true&lang=scss&");var i=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var a=Object(i["a"])(o["default"],s["a"],s["b"],false,null,"ab213afa",null);t["default"]=a.exports},"./businessComponents/groupNavigation/components/SearchPopupBody.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/source-map-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./businessComponents/groupNavigation/components/SearchPopupBody.vue?vue&type=script&lang=js&");var o=n.n(s);for(var r in s)if(["default"].indexOf(r)<0)(function(e){n.d(t,e,(function(){return s[e]}))})(r);t["default"]=o.a},"./businessComponents/groupNavigation/components/SearchPopupBody.vue?vue&type=style&index=0&id=ab213afa&scoped=true&lang=scss&":function(e,t,n){"use strict"},"./businessComponents/groupNavigation/components/SearchPopupBody.vue?vue&type=template&id=ab213afa&scoped=true&":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return o}));var s=function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"search-popup-body"},[n("SearchPopupResultsHeader",{attrs:{searchText:e.searchText}}),e._v(" "),e._l(e.results.programSessions||[],(function(t){return n("ProgramSessionResultMini",{key:t._id,attrs:{deadline:t.endDate,progress:t.progress,title:t.name},on:{click:function(n){return e.onProgramSessionResultClick(t)}}})})),e._v(" "),e._l(e.results.paths,(function(t){return n("PathResultMini",{key:t._id,attrs:{progress:{},title:t.name},on:{click:function(n){return e.onPathResultClick(t)}}})})),e._v(" "),e._l(e.results.courses,(function(t){return n("CourseResultMini",{key:t._id,attrs:{progress:t.progress,title:t.name},on:{click:function(n){return e.onCourseResultClick(t)}}})})),e._v(" "),e._l(e.results.activities,(function(t){return n("ActivityResultMini",{key:t._id,attrs:{collection:t.collection,title:t.name},on:{click:function(n){return e.onActivityResultClick(t)}}})})),e._v(" "),e._l(e.results.learningNeeds,(function(t){return n("LearningNeedResultMini",{key:t._id,attrs:{nbUpvotes:t.nbUpvotes,title:t.name},on:{click:function(n){return e.onResultClick(t)}}})})),e._v(" "),e._l(e.results.users,(function(t){return n("UserResultMini",{key:t._id,attrs:{title:t.name,userId:t._id},on:{click:function(n){return e.onUserResultClick(t)}}})})),e._v(" "),e._l(e.results.groups,(function(t){return n("GroupResultMini",{key:t._id,attrs:{groupId:t._id,title:t.name},on:{click:function(n){return e.onGroupResultClick(t)}}})})),e._v(" "),e.selectedActivity?n("ElementPopup",{ref:"popup",attrs:{id:e.selectedActivity._id,collection:e.selectedActivity.collection,courseId:e.selectedActivity.createdFor,isOpened:""},on:{"update:isOpened":function(t){return e.onActivityPopupToggled(t)}}}):e._e()],2)};var o=[]},"./businessComponents/groupNavigation/components/SearchPopupHeader.vue":function(e,t,n){"use strict";n.r(t);var s=n("./businessComponents/groupNavigation/components/SearchPopupHeader.vue?vue&type=template&id=02d68c5b&scoped=true&");var o=n("./businessComponents/groupNavigation/components/SearchPopupHeader.vue?vue&type=script&lang=js&");for(var r in o)if(["default"].indexOf(r)<0)(function(e){n.d(t,e,(function(){return o[e]}))})(r);var u=n("./businessComponents/groupNavigation/components/SearchPopupHeader.vue?vue&type=style&index=0&id=02d68c5b&scoped=true&lang=scss&");var i=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var a=Object(i["a"])(o["default"],s["a"],s["b"],false,null,"02d68c5b",null);t["default"]=a.exports},"./businessComponents/groupNavigation/components/SearchPopupHeader.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/source-map-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./businessComponents/groupNavigation/components/SearchPopupHeader.vue?vue&type=script&lang=js&");var o=n.n(s);for(var r in s)if(["default"].indexOf(r)<0)(function(e){n.d(t,e,(function(){return s[e]}))})(r);t["default"]=o.a},"./businessComponents/groupNavigation/components/SearchPopupHeader.vue?vue&type=style&index=0&id=02d68c5b&scoped=true&lang=scss&":function(e,t,n){"use strict"},"./businessComponents/groupNavigation/components/SearchPopupHeader.vue?vue&type=template&id=02d68c5b&scoped=true&":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return o}));var s=function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"search-popup-header"},[n("RegularIcon",{staticClass:"search-icon",attrs:{icon:e.magnifyingGlassIcon}}),e._v(" "),n("div",{staticClass:"search-form"},[n("input",{ref:"input",attrs:{placeholder:e.workspaceLg.search.placeholder},domProps:{value:e.searchText},on:{input:function(t){return e.onSearchChanged(t)},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}return e.goToSearchPage()}}})])],1)};var o=[]},"./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue":function(e,t,n){"use strict";n.r(t);var s=n("./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue?vue&type=template&id=9a92dade&scoped=true&");var o=n("./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue?vue&type=script&lang=js&");for(var r in o)if(["default"].indexOf(r)<0)(function(e){n.d(t,e,(function(){return o[e]}))})(r);var u=n("./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue?vue&type=style&index=0&id=9a92dade&scoped=true&lang=scss&");var i=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var a=Object(i["a"])(o["default"],s["a"],s["b"],false,null,"9a92dade",null);t["default"]=a.exports},"./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/source-map-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue?vue&type=script&lang=js&");var o=n.n(s);for(var r in s)if(["default"].indexOf(r)<0)(function(e){n.d(t,e,(function(){return s[e]}))})(r);t["default"]=o.a},"./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue?vue&type=style&index=0&id=9a92dade&scoped=true&lang=scss&":function(e,t,n){"use strict"},"./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue?vue&type=template&id=9a92dade&scoped=true&":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return o}));var s=function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"search-popup-results-header",on:{click:function(t){return e.goToSearchPage()}}},[n("div",{staticClass:"search-popup-results-header-icon"},[n("LargeIcon",{attrs:{icon:e.magnifyingGlassIcon}})],1),e._v(" "),n("TextTemplate",{staticClass:"search-popup-results-header-label",attrs:{text:e.workspaceLg.search.resultsHeader},scopedSlots:e._u([{key:"searchText",fn:function(){return[n("span",{staticClass:"search-popup-results-search"},[e._v("\n                "+e._s(e.searchText)+"\n            ")])]},proxy:true}])})],1)};var o=[]},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/source-map-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./businessComponents/groupNavigation/components/SearchPopup.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.keys.js");n("./node_modules/core-js/modules/es.symbol.js");n("./node_modules/core-js/modules/es.array.filter.js");n("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");n("./node_modules/core-js/modules/web.dom-collections.for-each.js");n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");n("./node_modules/core-js/modules/es.object.to-string.js");n("./node_modules/core-js/modules/es.promise.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;n("./node_modules/regenerator-runtime/runtime.js");var s=n("./node_modules/vuex/dist/vuex.esm.js");var o=c(n("./businessComponents/groupNavigation/components/SearchPopupBody.vue"));var r=c(n("./businessComponents/groupNavigation/components/SearchPopupHeader.vue"));var u=n("./genericComponents/popups/index.js");var i=c(n("./vuejs/mixins/popup.mixin.js"));var a=n("./vuejs/services/search/index.js");function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,s,o,r,u){try{var i=e[r](u);var a=i.value}catch(e){n(e);return}if(i.done){t(a)}else{Promise.resolve(a).then(s,o)}}function p(e){return function(){var t=this,n=arguments;return new Promise((function(s,o){var r=e.apply(t,n);function u(e){d(r,s,o,u,i,"next",e)}function i(e){d(r,s,o,u,i,"throw",e)}u(undefined)}))}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);if(t){s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))}n.push.apply(n,s)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};if(t%2){l(Object(n),true).forEach((function(t){m(e,t,n[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(n))}else{l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}}return e}function m(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var f={components:{Modal:u.Modal,SearchPopupBody:o.default,SearchPopupHeader:r.default},mixins:[i.default],data:function e(){return{results:{},searchText:""}},computed:v({},(0,s.mapState)(["user"])),watch:{$route:function e(){this.close()},searchText:function e(){this.triggerSearch()}},methods:{beforeOpen:function e(){this.searchText="";this.triggerSearch()},fetchResults:function e(t){var n=this;return p(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:s=function e(t){var n=["programSessions","users","groups","learningNeeds"];if(t.catalog){n.push("paths","courses","activities","tags")}return n};logAmplitudeEvent("Search bar - research",{text:t});return o.abrupt("return",(0,a.fetchLegacySearchResults)({text:t,types:s(n.user.companyData)}));case 3:case"end":return o.stop()}}}),e)})))()},triggerSearch:_.debounce(p(regeneratorRuntime.mark((function e(){var t,n,s,o;return regeneratorRuntime.wrap((function e(r){while(1){switch(r.prev=r.next){case 0:o=function e(n){return n===t.searchText};t=this;n=this.searchText;r.next=5;return this.fetchResults(n);case 5:s=r.sent;if(o(n)){r.next=8;break}return r.abrupt("return");case 8:this.results=s;case 9:case"end":return r.stop()}}}),e,this)}))),200)}};t.default=f},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/source-map-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./businessComponents/groupNavigation/components/SearchPopupBody.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.keys.js");n("./node_modules/core-js/modules/es.symbol.js");n("./node_modules/core-js/modules/es.array.filter.js");n("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");n("./node_modules/core-js/modules/web.dom-collections.for-each.js");n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js");n("./node_modules/core-js/modules/es.object.to-string.js");n("./node_modules/core-js/modules/es.promise.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;n("./node_modules/regenerator-runtime/runtime.js");var s=n("./node_modules/vuex/dist/vuex.esm.js");var o=m(n("./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue"));var r=n("./businessComponents/activities/index.js");var u=n("./businessComponents/courses/index.js");var i=n("./businessComponents/groups/index.js");var a=n("./businessComponents/learningNeeds/index.js");var c=n("./businessComponents/paths/index.js");var d=n("./businessComponents/programSessions/index.js");var p=n("./businessComponents/users/index.js");var l=m(n("./vuejs/components/mediaViewer/ElementPopup.vue"));var v=n("./vuejs/services/courses/index.js");function m(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,s,o,r,u){try{var i=e[r](u);var a=i.value}catch(e){n(e);return}if(i.done){t(a)}else{Promise.resolve(a).then(s,o)}}function g(e){return function(){var t=this,n=arguments;return new Promise((function(s,o){var r=e.apply(t,n);function u(e){f(r,s,o,u,i,"next",e)}function i(e){f(r,s,o,u,i,"throw",e)}u(undefined)}))}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);if(t){s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))}n.push.apply(n,s)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};if(t%2){h(Object(n),true).forEach((function(t){j(e,t,n[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(n))}else{h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}}return e}function j(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var y=["programSessions","paths","courses","activities","learningNeeds","users","groups"];var _={components:{ActivityResultMini:r.ActivityResultMini,CourseResultMini:u.CourseResultMini,ElementPopup:l.default,GroupResultMini:i.GroupResultMini,LearningNeedResultMini:a.LearningNeedResultMini,PathResultMini:c.PathResultMini,ProgramSessionResultMini:d.ProgramSessionResultMini,SearchPopupResultsHeader:o.default,UserResultMini:p.UserResultMini},props:{results:{default:function e(){return{}},type:Object},searchText:String},data:function e(){return{selectedActivity:null,sortedTypes:y}},computed:b({},(0,s.mapGetters)("user",["canEditCourse"])),methods:{onActivityPopupToggled:function e(t){if(t){return}this.selectedActivity=null},onActivityResultClick:function e(t){var n=this;return g(regeneratorRuntime.mark((function e(){var s,o,r;return regeneratorRuntime.wrap((function e(u){while(1){switch(u.prev=u.next){case 0:r=function e(){r=g(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(o){while(1){switch(o.prev=o.next){case 0:o.next=2;return(0,v.getCache)(t);case 2:n=o.sent;if(n){o.next=5;break}return o.abrupt("return",false);case 5:return o.abrupt("return",s.canEditCourse(n));case 6:case"end":return o.stop()}}}),e)})));return r.apply(this,arguments)};o=function e(t){return r.apply(this,arguments)};s=n;x("activities",{collection:t.collection});u.next=6;return o(t.courseId);case 6:if(!u.sent){u.next=10;break}n.$router.push({name:"course.edit.element",params:{id:t.courseId,elementId:t._id}});u.next=11;break;case 10:n.selectedActivity=t;case 11:case"end":return u.stop()}}}),e)})))()},onCourseResultClick:function e(t){x("courses");this.$router.push({name:"course.play",params:{id:t._id}})},onGroupResultClick:function e(t){x("groups");this.$router.push({name:"group",params:{id:t._id}})},onLearningNeedResultClick:function e(t){x("learningNeeds");this.$router.push({name:"learningNeedHome.browse",params:{id:t._id}})},onPathResultClick:function e(t){x("paths");this.$router.push({name:"paths.home",params:{id:t._id}})},onProgramSessionResultClick:function e(t){x("programSessions");this.$router.push({name:"session",params:{id:t._id}})},onUserResultClick:function e(t){x("users");this.$router.push({name:"profile.user",params:{id:t._id}})}}};t.default=_;function x(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.collection;var s={type:e};if(n){s.collection=n}logAmplitudeEvent("Search bar - click on result",s)}},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/source-map-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./businessComponents/groupNavigation/components/SearchPopupHeader.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n("./genericComponents/icons/index.js");var o=n("./vuejs/services/search/index.js");var r=u(n("./assets/icons/new/Main/magnifyingGlass.svg"));function u(e){return e&&e.__esModule?e:{default:e}}var i={components:{RegularIcon:s.RegularIcon},props:{searchText:String},data:function e(){return{magnifyingGlassIcon:r.default,workspaceLg:workspaceLg}},mounted:function e(){this.$refs.input.focus()},methods:{goToSearchPage:function e(){this.$router.push((0,o.buildTextQuery)(this.searchText))},onSearchChanged:function e(t){var n=t.target.value;this.$emit("update:searchText",n)}}};t.default=i},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/source-map-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./businessComponents/groupNavigation/components/SearchPopupResultsHeader.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=n("./genericComponents/icons/index.js");var o=i(n("./assets/icons/new/Main/magnifyingGlass.svg"));var r=i(n("./vuejs/components/TextTemplate.vue"));var u=n("./vuejs/services/search/index.js");function i(e){return e&&e.__esModule?e:{default:e}}var a={components:{LargeIcon:s.LargeIcon,TextTemplate:r.default},props:{searchText:{default:"",type:String}},data:function e(){return{magnifyingGlassIcon:o.default,workspaceLg:workspaceLg}},methods:{goToSearchPage:function e(){this.$router.push((0,u.buildTextQuery)(this.searchText))}}};t.default=a}}]);
//# sourceMappingURL=151.b0feb017.bundle.min.js.map